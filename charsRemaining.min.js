/* Copyright (c) 2013 Tyler Uebele * Released under the MIT license. * latest at https://github.com/tyleruebele/charsRemaining * minified at jscompress.com */
function charsRemaining(){var e=document.querySelectorAll("input[maxlength],textarea[maxlength]");var t,n,r;for(var i=e.length-1;i>=0;i--){n=e[i];t=document.createElement("span");t.style.position="relative";t.style.display="inline-block";n.parentNode.insertBefore(t,n);n.parentNode.removeChild(n);t.appendChild(n);r=document.createElement("span");r.className="js-charsRemaining";r.style.display="none";r.style.position="absolute";t.appendChild(r);n.addEventListener("focus",charsRemaining.show);n.addEventListener("keyup",charsRemaining.show);n.addEventListener("blur",charsRemaining.hide);n.addEventListener("change",charsRemaining.hide)}}charsRemaining.show=function(){if(this.value.length>this.maxLength){this.value=this.value.substr(0,this.maxLength)}var e=this.nextSibling;e.style.display="block";e.innerHTML=this.maxLength-this.value.length;e.title=e.innerHTML+" Characters Remaining"};charsRemaining.hide=function(){this.value=this.value.substr(0,this.maxLength);var e=this.nextSibling;e.style.display="none"};window.addEventListener?window.addEventListener("load",charsRemaining,false):window.attachEvent&&window.attachEvent("onload",charsRemaining)
